"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[750],{63750:(e,a,t)=>{t.r(a),t.d(a,{default:()=>V});var l=t(61758),n=t(38734),i=t(58790),s=t(3388),o=t(19056),c=t(77474),u=t(95522),d=t(7757),r=t(60455),m=t(81750),v=t(8522)["Buffer"],p=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,i){function s(e){try{c(l.next(e))}catch(a){i(a)}}function o(e){try{c(l["throw"](e))}catch(a){i(a)}}function c(e){e.done?t(e.value):n(e.value).then(s,o)}c((l=l.apply(e,a||[])).next())}))};const g={key:0,class:"q-mb-lg"},b={key:1,class:""},h=(0,l.Lk)("p",{class:"text-weight-medium"},"Информация о пользователе",-1),y={class:"row q-col-gutter-md q-mb-lg"},f={class:"col-6"},k={class:"col-6"},w=(0,l.Lk)("p",{class:"q-mb-none text-weight-medium"},"ФИО",-1),R={class:"q-mb-none text-caption"},q=(0,l.Lk)("p",{class:"q-mb-none text-weight-medium"},"Пол",-1),L={class:"q-mb-none text-caption"},x=(0,l.Lk)("p",{class:"q-mb-none text-weight-medium"},"Дата рождения",-1),A={class:"q-mb-none text-caption"},C=(0,l.Lk)("p",{class:"text-negative"},"Верификация может занять до 1 минуты, пожалуйста не покидайте сраницу до получения ответа от сервера",-1),_=(0,l.pM)({__name:"verify",setup(e){const{toast:a,Icon:t,Color:_}=(0,u.d)(),{registerPersonCertify:F,signTransaction:K}=(0,c.Z)(),Q=(0,r.rd)();let T=(0,n.KR)(!1),E=(0,n.KR)(null),P=(0,n.KR)(),V=(0,n.KR)(),W=(0,n.KR)();const X=()=>{const e=new FileReader;e.addEventListener("load",(()=>p(this,void 0,void 0,(function*(){P.value=e.result,yield D()}))),!1),E.value&&e.readAsText(E.value)},D=()=>p(this,void 0,void 0,(function*(){T.value=!T.value;const e=yield o.EraChain.Type.PersonHuman.parse(P.value);m.log(e),W.value=e,V.value={name:e.name,desc:e.description,image:"data:image/png;base64,"+v.from(e.image).toString("base64"),birthday:e.birthday,deathday:e.deathday,gender:e.gender},T.value=!T.value})),I=()=>p(this,void 0,void 0,(function*(){T.value=!T.value;const e=yield F(W.value);if(e.raw){const l=yield K(e.raw);l.success&&(a("Пользователь верифицирован",t.success,_.success),yield Q.back())}T.value=!T.value}));return(e,a)=>{const t=(0,l.g2)("q-file"),o=(0,l.g2)("q-img"),c=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(c,{padding:""},{default:(0,l.k6)((()=>[(0,l.bF)(s.A,{title:"Верифицировать пользователя"},{default:(0,l.k6)((()=>[(0,n.R1)(W)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",g,[(0,l.bF)(t,{modelValue:(0,n.R1)(E),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.i9)(E)?E.value=e:E=e),accept:".txt",dense:"",label:"Выберите файл с RAW кодом",outlined:"",clearable:"",class:"q-mb-md"},null,8,["modelValue"]),(0,l.bF)(d.A,{onClick:X,"no-caps":"",unelevated:"",class:"full-width q-py-md",color:"primary",label:"Проверить RAW"})])),(0,n.R1)(V)?((0,l.uX)(),(0,l.CE)("div",b,[h,(0,l.Lk)("div",y,[(0,l.Lk)("div",f,[(0,l.bF)(o,{src:(0,n.R1)(V).image},null,8,["src"])]),(0,l.Lk)("div",k,[w,(0,l.Lk)("p",R,(0,i.v_)((0,n.R1)(V).name),1),q,(0,l.Lk)("p",L,(0,i.v_)(0===(0,n.R1)(V).gender?"М":"Ж"),1),x,(0,l.Lk)("p",A,(0,i.v_)(new Date((0,n.R1)(V).birthday).toLocaleDateString()),1)])]),C,(0,l.bF)(d.A,{onClick:I,loading:(0,n.R1)(T),"no-caps":"",unelevated:"",class:"full-width q-py-md",color:"primary",label:"Верифицировать"},null,8,["loading"])])):(0,l.Q3)("",!0)])),_:1})])),_:1})}}});var F=t(33177),K=t(68433),Q=t(65287),T=t(98582),E=t.n(T);const P=_,V=P;E()(_,"components",{QPage:F.A,QFile:K.A,QImg:Q.A})}}]);