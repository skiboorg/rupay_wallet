"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[743],{65743:(e,t,l)=>{l.r(t),l.d(t,{default:()=>U});var a=l(61758),n=l(38734),u=l(58790),o=l(3388),s=l(60455),i=l(41640),r=l(77854),d=l(59033),c=l(95522),p=l(77474),k=l(81750),_=function(e,t,l,a){function n(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,u){function o(e){try{i(a.next(e))}catch(t){u(t)}}function s(e){try{i(a["throw"](e))}catch(t){u(t)}}function i(e){e.done?l(e.value):n(e.value).then(o,s)}i((a=a.apply(e,t||[])).next())}))};const v={class:"text-caption"},b=(0,a.Lk)("br",null,null,-1),f=(0,a.Lk)("br",null,null,-1),F=(0,a.Lk)("span",{class:"text-bold"},"ВНИМАНИЕ",-1),g=(0,a.Lk)("br",null,null,-1),y=(0,a.Lk)("br",null,null,-1),h=(0,a.Lk)("span",{class:"text-bold text-negative"}," Отправленные монеты на откуп, будут выкуплены за рубли и вернуть монеты уже не получится.",-1),q={class:"text-bold"},L={class:"text-bold text-center text-positive"},R=(0,a.pM)({__name:"chance",setup(e){const{p2pUser:t,getP2PUser:l}=(0,i.P)(),{address:R,getOwnAssetByKey:W}=(0,d.G)(),{toast:m,Icon:w,Color:x}=(0,c.d)(),{getFee:A,signTransaction:K}=(0,p.Z)(),I=(0,s.lq)(),Q=((0,s.rd)(),(0,n.KR)([])),U=(0,n.KR)([]),B=((0,n.KR)(0),(0,n.KR)(!1),(0,n.KR)(""),(0,n.KR)());(0,a.KC)((()=>_(this,void 0,void 0,(function*(){k.log(I.query.i),k.log(I.query.ip),Q.value=null===t||void 0===t?void 0:t.shance_holds.filter((e=>e.price.id===parseInt(I.query.i)));const e=yield(0,r.rupayApi)("/api/p2p/shances");U.value=e.data,B.value=W("2")}))));return(e,t)=>{const l=(0,a.g2)("q-item-label"),s=(0,a.g2)("q-item-section"),i=(0,a.g2)("q-item"),r=(0,a.g2)("q-list"),d=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(d,{padding:""},{default:(0,a.k6)((()=>[(0,a.bF)(o.A,{title:`Шанс по ${(0,n.R1)(I).query.ip} руб`},{default:(0,a.k6)((()=>{var e;return[(0,a.Lk)("p",v,[(0,a.eW)("Просто выбери количество монет и получи откуп отправленных тобой монет по цене "+(0,u.v_)((0,n.R1)(I).query.ip)+" RUB за каждую монету.",1),b,f,F,(0,a.eW)(" откуп будет происходить согласно росту ликвидного курса монеты."),g,y,(0,a.eW)(),h]),(0,a.Lk)("p",q,"Ваш баланс OLF: "+(0,u.v_)(null===(e=B.value)||void 0===e?void 0:e.balance.own),1),(0,a.Lk)("p",L,"Начат процесс выплат по "+(0,u.v_)((0,n.R1)(I).query.ip)+" RUB",1)]})),_:1},8,["title"]),Q.value.length>0?((0,a.uX)(),(0,a.Wv)(o.A,{key:0,title:"Текущие выкупы",class:"q-mt-sm"},{default:(0,a.k6)((()=>[Q.value.length>0?((0,a.uX)(),(0,a.Wv)(r,{key:0,dense:"",separator:""},{default:(0,a.k6)((()=>[(0,a.bF)(i,{dense:""},{default:(0,a.k6)((()=>[(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Дата")])),_:1})])),_:1}),(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Остаток")])),_:1})])),_:1}),(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)("Выкуплено")])),_:1})])),_:1})])),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(Q.value,(e=>((0,a.uX)(),(0,a.Wv)(i,{dense:"",key:e.id},{default:(0,a.k6)((()=>[(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(new Date(e.created_at).toLocaleDateString()),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,{overline:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(parseFloat(e.amount))+" OLF",1)])),_:2},1024),(0,a.bF)(l,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(parseFloat(e.amount)*parseInt((0,n.R1)(I).query.ip))+" RUB",1)])),_:2},1024)])),_:2},1024),(0,a.bF)(s,null,{default:(0,a.k6)((()=>[(0,a.bF)(l,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(parseFloat(e.ostatok))+" OLF",1)])),_:2},1024),(0,a.bF)(l,{caption:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(parseFloat(e.ostatok)*parseInt((0,n.R1)(I).query.ip))+" RUB",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})):(0,a.Q3)("",!0)])),_:1})):(0,a.Q3)("",!0)])),_:1})}}});var W=l(33177),m=l(54514),w=l(75329),x=l(63418),A=l(35779),K=l(98582),I=l.n(K);const Q=R,U=Q;I()(R,"components",{QPage:W.A,QList:m.A,QItem:w.A,QItemSection:x.A,QItemLabel:A.A})}}]);