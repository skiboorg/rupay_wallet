"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[987],{35987:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Y});var l=t(61758),n=t(38734),o=t(58790),r=t(60455),i=t(43710),s=t(59033),u=t(41640),c=t(39713),d=t(95522),b=t(10577);const k=(0,l.pM)({__name:"ActiveTxButton",setup(e){const a=(0,b.u)();return(e,t)=>{const o=(0,l.g2)("q-icon"),r=(0,l.g2)("q-btn");return(0,n.R1)(a).activeTxCount?((0,l.uX)(),(0,l.Wv)(r,{key:0,flat:"",dense:"",label:(0,n.R1)(a).activeTxCount},{default:(0,l.k6)((()=>[(0,l.bF)(o,{name:"las la-sync",class:"rotate q-px-sm"})])),_:1},8,["label"])):(0,l.Q3)("",!0)}}});var p=t(69001),f=t(24609),v=t(98582),_=t.n(v);const g=k,F=g;_()(k,"components",{QBtn:p.A,QIcon:f.A});var h=t(94461),m=t(81750),y=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{s(l.next(e))}catch(a){o(a)}}function i(e){try{s(l["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):n(e.value).then(r,i)}s((l=l.apply(e,a||[])).next())}))};const Q=e=>((0,l.Qi)("data-v-70594ae6"),e=e(),(0,l.jt)(),e),w={class:"text-caption q-mb-none ellipsis"},A=["src"],q={class:"no-margin"},x=Q((()=>(0,l.Lk)("p",{class:"no-margin"},"Ваш счет является анонимным. Для разблокировки всего функционала создайте персону и верифицируйте счет",-1))),C=Q((()=>(0,l.Lk)("a",{class:"text-dark",href:"https://t.me/rolf_support",target:"_blank"},"Техническая поддержка",-1))),W=(0,l.pM)({__name:"Header",setup(e){const{p2pUser:a}=(0,u.P)(),t=(0,u.P)(),{toast:b,Icon:k,Color:p}=(0,d.d)(),f=(0,r.lq)(),v=(0,i.A)(),_=(0,n.KR)(!1),g=(0,n.KR)(!1),Q="https://chickenbro.ru",W=(0,n.KR)(!1),{person:R,address:X,logout:z}=(0,s.G)();function P(){return y(this,void 0,void 0,(function*(){const e=yield h.A.post(Q+"/api/user/check_address",{wallet:X,confim:!0});e.data.success?(W.value=!1,b("Кошелек подтвержден, можете продолжить регистрацию",k.success,p.success)):b("Ошибка подтверждения кошелька",k.error,p.error)}))}return(0,l.wB)(_,(e=>{v.dark.set(e)})),(0,l.KC)((()=>y(this,void 0,void 0,(function*(){const e=yield h.A.post(Q+"/api/user/check_address",{wallet:X,get:!0});m.log(e.data),e.data.is_confirm||(W.value=!0)})))),(e,r)=>{var i;const s=(0,l.g2)("q-btn"),u=(0,l.g2)("q-space"),d=(0,l.g2)("q-icon"),b=(0,l.g2)("q-badge"),k=(0,l.g2)("q-toolbar"),p=(0,l.g2)("q-header"),v=(0,l.g2)("q-item-label"),_=(0,l.g2)("q-item-section"),h=(0,l.g2)("q-item"),m=(0,l.g2)("q-avatar"),y=(0,l.g2)("q-separator"),Q=(0,l.g2)("q-list"),B=(0,l.g2)("q-banner"),K=(0,l.g2)("q-drawer");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(null===(i=(0,n.R1)(a))||void 0===i?void 0:i.is_wallet_blocked)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(p,{key:0,class:"bg-grey-invert text-gold"},{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>["/"!==(0,n.R1)(f).path?((0,l.uX)(),(0,l.Wv)(s,{key:0,flat:"","no-caps":"",label:"Назад",onClick:r[0]||(r[0]=a=>e.$router.back())})):(0,l.Q3)("",!0),(0,l.bF)(u),(0,l.bF)(F),(0,l.bF)(s,{flat:"",round:"",dense:"",icon:"las la-bell",color:"golder",onClick:r[1]||(r[1]=a=>e.$router.push("/notifications")),class:"q-ml-md"},{default:(0,l.k6)((()=>[(0,n.R1)(t).haveNewNotifications?((0,l.uX)(),(0,l.Wv)(b,{key:0,class:"badge",floating:"",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(s,{flat:"",round:"",dense:"",icon:"las la-bars",class:"q-mr-sm",onClick:r[2]||(r[2]=e=>g.value=!0)},{default:(0,l.k6)((()=>[W.value?((0,l.uX)(),(0,l.Wv)(b,{key:0,class:"badge",floating:"",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0),(0,n.R1)(t).showP2PWarning?((0,l.uX)(),(0,l.Wv)(b,{key:1,floating:"",class:"badge",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0)])),_:1})])),_:1})])),_:1})),(0,l.bF)(K,{modelValue:g.value,"onUpdate:modelValue":r[9]||(r[9]=e=>g.value=e),behavior:"mobile",bordered:"",side:"right",class:"q-py-lg relative-position"},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{separator:""},{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{overline:""},{default:(0,l.k6)((()=>[(0,l.eW)("Адрес кошелька")])),_:1}),(0,l.bF)(v,{caption:""},{default:(0,l.k6)((()=>[(0,l.Lk)("p",w,(0,o.v_)((0,n.R1)(X)),1)])),_:1})])),_:1}),(0,l.bF)(_,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{class:"invertBtn",onClick:r[3]||(r[3]=e=>(0,n.R1)(c.$r)((0,n.R1)(X),"Адрес кошелька скопирован")),round:"",dense:"",unelevated:"",icon:"las la-clipboard"})])),_:1})])),_:1}),(0,n.R1)(R)?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(m,{size:"40px"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:(0,n.R1)(c.gs)((0,n.R1)(R).maker_image),alt:""},null,8,A)])),_:1})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.Lk)("p",q,(0,o.v_)((0,n.R1)(R).name),1)])),_:1})])),_:1})])),_:1}),(0,l.bF)(h,{clickable:"",onClick:r[4]||(r[4]=a=>e.$router.push("/person/verify"))},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"20px",name:"las la-id-card"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("Верифицировать пользователя ")])),_:1})])),_:1}),(0,l.bF)(h,{clickable:"",onClick:r[5]||(r[5]=a=>e.$router.push("/person/verified_persons"))},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"20px",name:"las la-user-check"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("Верифицированные пользователи")])),_:1})])),_:1})],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[x])),_:1}),(0,l.bF)(h,{clickable:"",onClick:r[6]||(r[6]=a=>e.$router.push("/person/create/with_inviter"))},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"20px",name:"las la-id-card"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("Верификация с пригласителем ")])),_:1})])),_:1}),(0,l.bF)(h,{clickable:"",onClick:r[7]||(r[7]=a=>e.$router.push("/person/create/without_inviter"))},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"20px",name:"las la-id-card"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("Верификация без пригласителя ")])),_:1})])),_:1})],64)),(0,l.bF)(h,{clickable:"",onClick:r[8]||(r[8]=a=>e.$router.push("/p2p/settings")),class:"relative-position"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"20px",name:"las la-users"})])),_:1}),(0,n.R1)(t).showP2PWarning?((0,l.uX)(),(0,l.Wv)(b,{key:0,class:"absolute-top-left badge",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("Настройки P2P")])),_:1})])),_:1}),W.value?((0,l.uX)(),(0,l.Wv)(h,{key:2,clickable:"",onClick:P,class:"text-positive"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"20px",name:"las la-gamepad"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("Подтвердить кошелек для регистрации в игре ChickenBro")])),_:1})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(h,{clickable:"",onClick:(0,n.R1)(z),class:"text-negative"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{size:"20px",name:"las la-sign-out-alt"})])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("Выход")])),_:1})])),_:1},8,["onClick"]),(0,l.bF)(y)])),_:1}),(0,l.bF)(B,{style:{position:"absolute"},class:"bg-tab absolute-bottom"},{default:(0,l.k6)((()=>[C])),_:1})])),_:1},8,["modelValue"])],64)}}});var R=t(12807),X=t(60133),z=t(79351),P=t(31173),B=t(44031),K=t(22701),L=t(54514),$=t(75329),I=t(63418),T=t(90449),E=t(35779),S=t(53581),U=t(37015),H=t(38222);const M=(0,R.A)(W,[["__scopeId","data-v-70594ae6"]]),V=M;_()(W,"components",{QHeader:X.A,QToolbar:z.A,QBtn:p.A,QSpace:P.A,QBadge:B.A,QIcon:f.A,QDrawer:K.A,QList:L.A,QItem:$.A,QItemSection:I.A,QToggle:T.A,QItemLabel:E.A,QAvatar:S.A,QSeparator:U.A,QBanner:H.A});var N=t(81750),j=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{s(l.next(e))}catch(a){o(a)}}function i(e){try{s(l["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):n(e.value).then(r,i)}s((l=l.apply(e,a||[])).next())}))};const D=(0,l.pM)({__name:"wallet",setup(e){const{p2pUser:a}=(0,u.P)(),t=(0,n.KR)(!1),o=(0,r.rd)();function i(){window.location.reload()}return(0,l.KC)((()=>j(this,void 0,void 0,(function*(){N.log("p2pUser",a),(null===a||void 0===a?void 0:a.is_wallet_blocked)&&o.push("/blocked"),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(e){for(let a of e)a.addEventListener("updatefound",(()=>{N.log("Service Worker update detected!"),t.value=!0}))}))})))),(e,a)=>{const n=(0,l.g2)("q-btn"),o=(0,l.g2)("q-banner"),r=(0,l.g2)("router-view"),s=(0,l.g2)("q-page-container"),u=(0,l.g2)("q-layout");return(0,l.uX)(),(0,l.CE)(l.FK,null,[t.value?((0,l.uX)(),(0,l.Wv)(o,{key:0,class:"invertBtn"},{action:(0,l.k6)((()=>[(0,l.bF)(n,{color:"primary","text-color":"dark",onClick:i,"no-caps":"",unelevated:"",label:"Обновить"})])),default:(0,l.k6)((()=>[(0,l.eW)(" Обнаружено обновление! ")])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(u,{view:"lHh Lpr lFf"},{default:(0,l.k6)((()=>[(0,l.bF)(V),(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(r)])),_:1})])),_:1})],64)}}});var G=t(83333),J=t(71102);const O=D,Y=O;_()(D,"components",{QBanner:H.A,QBtn:p.A,QLayout:G.A,QPageContainer:J.A})}}]);