"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[774],{94774:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ee});var n=t(61758),r=t(38734),l=t(41640),o=t(58790),d=t(11333),i=t(40702),s=function(e,a,t,n){function r(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,l){function o(e){try{i(n.next(e))}catch(a){l(a)}}function d(e){try{i(n["throw"](e))}catch(a){l(a)}}function i(e){e.done?t(e.value):r(e.value).then(o,d)}i((n=n.apply(e,a||[])).next())}))};const u={class:"no-margin"},c={key:0,class:"col-grow"},v=(0,n.Lk)("span",{class:"text-weight-medium text-grey-9"},"За 24часа",-1),p=(0,n.Lk)("br",null,null,-1),g=(0,n.Lk)("span",{class:"text-weight-medium text-grey-9"},"За 7Д",-1),b=(0,n.Lk)("br",null,null,-1),f=(0,n.Lk)("span",{class:"text-weight-medium text-grey-9"},"За 1М",-1),m=(0,n.pM)({__name:"ExchangeTab",setup(e){const{getTradePairs:a}=(0,d.W)(),t=(0,d.W)();return(0,n.sV)((()=>s(this,void 0,void 0,(function*(){yield a()})))),(e,a)=>{const l=(0,n.g2)("q-space"),d=(0,n.g2)("q-badge"),s=(0,n.g2)("q-card-section"),m=(0,n.g2)("q-card"),_=(0,n.g2)("q-spinner-bars"),k=(0,n.g2)("q-inner-loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(i.A,{offset:62},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(t).tradePairs,((a,i)=>((0,n.uX)(),(0,n.Wv)(m,{flat:"",bordered:"",key:i,class:"q-mb-sm",onClick:t=>e.$router.push(`/exchange/trade/${a[0]}/${a[1]}`)},{default:(0,n.k6)((()=>[(0,n.bF)(s,{class:"q-pa-sm",horizontal:""},{default:(0,n.k6)((()=>{var e;return[(0,n.Lk)("p",u,(0,o.v_)(i.replace("_"," / ")),1),(0,n.bF)(l),(null===(e=(0,r.R1)(t).tradePairVolumes)||void 0===e?void 0:e.find((e=>e.pair===i)))?((0,n.uX)(),(0,n.CE)("div",c,[v,(0,n.eW)(" : "),(0,n.bF)(d,{color:"grey-3","text-color":"dark"},{default:(0,n.k6)((()=>{var e,a;return[(0,n.eW)((0,o.v_)(parseFloat(null===(e=(0,r.R1)(t).tradePairVolumes)||void 0===e?void 0:e.find((e=>e.pair===i)).base_volume_24).toFixed(2))+" / "+(0,o.v_)(parseFloat(null===(a=(0,r.R1)(t).tradePairVolumes)||void 0===a?void 0:a.find((e=>e.pair===i)).quote_volume_24).toFixed(2)),1)]})),_:2},1024),p,g,(0,n.eW)(" : "),(0,n.bF)(d,{color:"grey-3","text-color":"dark"},{default:(0,n.k6)((()=>{var e,a;return[(0,n.eW)((0,o.v_)(parseFloat(null===(e=(0,r.R1)(t).tradePairVolumes)||void 0===e?void 0:e.find((e=>e.pair===i)).base_volume_1w).toFixed(2))+" / "+(0,o.v_)(parseFloat(null===(a=(0,r.R1)(t).tradePairVolumes)||void 0===a?void 0:a.find((e=>e.pair===i)).quote_volume_1w).toFixed(2)),1)]})),_:2},1024),b,f,(0,n.eW)(" : "),(0,n.bF)(d,{color:"grey-3","text-color":"dark"},{default:(0,n.k6)((()=>{var e,a;return[(0,n.eW)((0,o.v_)(parseFloat(null===(e=(0,r.R1)(t).tradePairVolumes)||void 0===e?void 0:e.find((e=>e.pair===i)).base_volume_1m).toFixed(2))+" / "+(0,o.v_)(parseFloat(null===(a=(0,r.R1)(t).tradePairVolumes)||void 0===a?void 0:a.find((e=>e.pair===i)).quote_volume_1m).toFixed(2)),1)]})),_:2},1024)])):(0,n.Q3)("",!0)]})),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),(0,n.bF)(k,{showing:(0,r.R1)(t).loading},{default:(0,n.k6)((()=>[(0,n.bF)(_,{size:"30px"})])),_:1},8,["showing"])],64)}}});var _=t(97569),k=t(27066),F=t(31173),h=t(44031),x=t(24264),w=t(62669),A=t(98582),q=t.n(A);const y=m,Q=y;q()(m,"components",{QCard:_.A,QCardSection:k.A,QSpace:F.A,QBadge:h.A,QInnerLoading:x.A,QSpinnerBars:w.A});var V=t(59033);const W={class:"no-margin text-caption text-weight-bold"},C={class:"no-margin text-caption"},R={class:"no-margin text-caption"},P={class:"no-margin text-caption"},L={class:"no-margin text-caption"},O=(0,n.pM)({__name:"TradeOrderCard",props:{tradeOrder:{},isActiveOrder:{type:Boolean}},setup(e){const a=(0,d.W)(),{allAssets:t}=(0,V.G)();return(e,l)=>{const d=(0,n.g2)("q-card-section"),i=(0,n.g2)("q-btn"),s=(0,n.g2)("q-card-actions"),u=(0,n.g2)("q-card");return(0,n.uX)(),(0,n.Wv)(u,{flat:"",bordered:""},{default:(0,n.k6)((()=>[(0,n.bF)(d,{class:"q-pa-sm"},{default:(0,n.k6)((()=>{var a,l;return[(0,n.Lk)("p",W,(0,o.v_)(null===(a=(0,r.R1)(t).find((a=>a.key===e.tradeOrder.wantAssetKey)))||void 0===a?void 0:a.name)+" / "+(0,o.v_)(null===(l=(0,r.R1)(t).find((a=>a.key===e.tradeOrder.haveAssetKey)))||void 0===l?void 0:l.name),1),(0,n.Lk)("p",C,"Кол-во "+(0,o.v_)(e.tradeOrder.amountHave),1),(0,n.Lk)("p",R,"Цена "+(0,o.v_)(e.tradeOrder.price),1),(0,n.Lk)("p",P,"Итого "+(0,o.v_)(e.tradeOrder.amountWant),1),(0,n.Lk)("p",L,"Осталось "+(0,o.v_)(e.tradeOrder.leftWant),1)]})),_:1}),e.isActiveOrder?((0,n.uX)(),(0,n.Wv)(s,{key:0},{default:(0,n.k6)((()=>[(0,n.bF)(i,{color:"negative",loading:(0,r.R1)(a).loading,unelevated:"",outline:"","no-caps":"",size:"12px",label:"Отменить ордер"},null,8,["loading"])])),_:1})):(0,n.Q3)("",!0)])),_:1})}}});var T=t(16334),X=t(77954);const K=O,E=K;q()(O,"components",{QCard:_.A,QCardSection:k.A,QCardActions:T.A,QBtn:X.A});var S=function(e,a,t,n){function r(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,l){function o(e){try{i(n.next(e))}catch(a){l(a)}}function d(e){try{i(n["throw"](e))}catch(a){l(a)}}function i(e){e.done?t(e.value):r(e.value).then(o,d)}i((n=n.apply(e,a||[])).next())}))};const I={class:"flex column gap-2"},B={class:"flex column gap-2"},U={class:"flex column gap-2"},z=(0,n.pM)({__name:"OwnDealsTab",setup(e){const{getOwnOrders:a}=(0,d.W)(),t=(0,d.W)();(0,n.sV)((()=>S(this,void 0,void 0,(function*(){yield a()}))));const l=(0,r.KR)("active");return(e,a)=>{const o=(0,n.g2)("q-tab"),d=(0,n.g2)("q-tabs"),s=(0,n.g2)("q-separator"),u=(0,n.g2)("q-tab-panel"),c=(0,n.g2)("q-tab-panels"),v=(0,n.g2)("q-spinner-bars"),p=(0,n.g2)("q-inner-loading");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(d,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),dense:"",align:"justify"},{default:(0,n.k6)((()=>[(0,n.bF)(o,{"no-caps":"",class:"bg-white text-info",name:"active",label:"Активные"}),(0,n.bF)(o,{"no-caps":"",class:"bg-white text-positive",name:"done",label:"Завершенные"}),(0,n.bF)(o,{"no-caps":"",class:"bg-white text-negative",name:"cancel",label:"Отмененные"})])),_:1},8,["modelValue"]),(0,n.bF)(s),(0,n.bF)(i.A,{offset:100},{default:(0,n.k6)((()=>[(0,n.bF)(c,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),animated:""},{default:(0,n.k6)((()=>[(0,n.bF)(u,{name:"active"},{default:(0,n.k6)((()=>{var e;return[(0,n.Lk)("div",I,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(null===(e=(0,r.R1)(t).ownOrders)||void 0===e?void 0:e.filter((e=>1===e.status||2===e.status)),(e=>((0,n.uX)(),(0,n.Wv)(E,{"trade-order":e,"is-active-order":""},null,8,["trade-order"])))),256))])]})),_:1}),(0,n.bF)(u,{name:"done"},{default:(0,n.k6)((()=>{var e;return[(0,n.Lk)("div",B,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(null===(e=(0,r.R1)(t).ownOrders)||void 0===e?void 0:e.filter((e=>3===e.status)),(e=>((0,n.uX)(),(0,n.Wv)(E,{"trade-order":e,"is-active-order":!1},null,8,["trade-order"])))),256))])]})),_:1}),(0,n.bF)(u,{name:"cancel"},{default:(0,n.k6)((()=>{var e;return[(0,n.Lk)("div",U,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(null===(e=(0,r.R1)(t).ownOrders)||void 0===e?void 0:e.filter((e=>4===e.status)),(e=>((0,n.uX)(),(0,n.Wv)(E,{"trade-order":e,"is-active-order":!1},null,8,["trade-order"])))),256))])]})),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(p,{showing:(0,r.R1)(t).loading},{default:(0,n.k6)((()=>[(0,n.bF)(v,{size:"30px"})])),_:1},8,["showing"])],64)}}});var M=t(64873),$=t(26721),j=t(37015),D=t(64082),G=t(63815);const H=z,J=H;q()(z,"components",{QTabs:M.A,QTab:$.A,QSeparator:j.A,QTabPanels:D.A,QTabPanel:G.A,QInnerLoading:x.A,QSpinnerBars:w.A});const N=(0,n.pM)({__name:"index",setup(e){const a=(0,r.KR)("exchange"),{p2pUser:t}=(0,l.P)();return(e,t)=>{const r=(0,n.g2)("q-tab"),l=(0,n.g2)("q-tabs"),o=(0,n.g2)("q-separator"),d=(0,n.g2)("q-tab-panel"),i=(0,n.g2)("q-tab-panels"),s=(0,n.g2)("q-card"),u=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(u,{padding:"",class:"page"},{default:(0,n.k6)((()=>[(0,n.bF)(s,{flat:"",bordered:"",class:"full-height"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),"indicator-color":"transparent",class:"shadow-2",align:"justify","active-color":"dark","active-bg-color":"tab"},{default:(0,n.k6)((()=>[(0,n.bF)(r,{"no-caps":"",name:"exchange",label:"Биржа"}),(0,n.bF)(r,{"no-caps":"",name:"own",label:"Мои сделки"})])),_:1},8,["modelValue"]),(0,n.bF)(o),(0,n.bF)(i,{modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),animated:"",class:"full-height"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{name:"exchange",class:"overflow-hidden"},{default:(0,n.k6)((()=>[(0,n.bF)(Q)])),_:1}),(0,n.bF)(d,{name:"own",class:"overflow-hidden no-padding"},{default:(0,n.k6)((()=>[(0,n.bF)(J)])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}}});var Y=t(33177);const Z=N,ee=Z;q()(N,"components",{QPage:Y.A,QCard:_.A,QTabs:M.A,QTab:$.A,QSeparator:j.A,QTabPanels:D.A,QTabPanel:G.A})}}]);