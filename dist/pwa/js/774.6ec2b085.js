"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[774],{94774:(e,a,n)=>{n.r(a),n.d(a,{default:()=>re});var t=n(61758),l=n(38734),o=n(41640),r=n(58790),i=n(11333),d=n(40702),s=function(e,a,n,t){function l(e){return e instanceof n?e:new n((function(a){a(e)}))}return new(n||(n=Promise))((function(n,o){function r(e){try{d(t.next(e))}catch(a){o(a)}}function i(e){try{d(t["throw"](e))}catch(a){o(a)}}function d(e){e.done?n(e.value):l(e.value).then(r,i)}d((t=t.apply(e,a||[])).next())}))};const u={class:"no-margin"},c={key:0,class:"col-grow"},v=(0,t.Lk)("span",{class:"text-weight-medium text-grey-9"},"За 24часа",-1),p=(0,t.Lk)("br",null,null,-1),g=(0,t.Lk)("span",{class:"text-weight-medium text-grey-9"},"За 7Д",-1),b=(0,t.Lk)("br",null,null,-1),f=(0,t.Lk)("span",{class:"text-weight-medium text-grey-9"},"За 1М",-1),m=(0,t.pM)({__name:"ExchangeTab",setup(e){const{getTradePairs:a}=(0,i.W)(),n=(0,i.W)();return(0,t.sV)((()=>s(this,void 0,void 0,(function*(){yield a()})))),(e,a)=>{const o=(0,t.g2)("q-space"),i=(0,t.g2)("q-badge"),s=(0,t.g2)("q-card-section"),m=(0,t.g2)("q-card"),_=(0,t.g2)("q-spinner-bars"),k=(0,t.g2)("q-inner-loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(d.A,{offset:62},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)((0,l.R1)(n).tradePairs,((a,d)=>((0,t.uX)(),(0,t.Wv)(m,{flat:"",bordered:"",key:d,class:"q-mb-sm",onClick:n=>e.$router.push(`/exchange/trade/${a[0]}/${a[1]}`)},{default:(0,t.k6)((()=>[(0,t.bF)(s,{class:"q-pa-sm",horizontal:""},{default:(0,t.k6)((()=>{var e;return[(0,t.Lk)("p",u,(0,r.v_)(d.replace("_"," / ")),1),(0,t.bF)(o),(null===(e=(0,l.R1)(n).tradePairVolumes)||void 0===e?void 0:e.find((e=>e.pair===d)))?((0,t.uX)(),(0,t.CE)("div",c,[v,(0,t.eW)(" : "),(0,t.bF)(i,{color:"grey-3","text-color":"dark"},{default:(0,t.k6)((()=>{var e,a;return[(0,t.eW)((0,r.v_)(parseFloat(null===(e=(0,l.R1)(n).tradePairVolumes)||void 0===e?void 0:e.find((e=>e.pair===d)).base_volume_24).toFixed(2))+" / "+(0,r.v_)(parseFloat(null===(a=(0,l.R1)(n).tradePairVolumes)||void 0===a?void 0:a.find((e=>e.pair===d)).quote_volume_24).toFixed(2)),1)]})),_:2},1024),p,g,(0,t.eW)(" : "),(0,t.bF)(i,{color:"grey-3","text-color":"dark"},{default:(0,t.k6)((()=>{var e,a;return[(0,t.eW)((0,r.v_)(parseFloat(null===(e=(0,l.R1)(n).tradePairVolumes)||void 0===e?void 0:e.find((e=>e.pair===d)).base_volume_1w).toFixed(2))+" / "+(0,r.v_)(parseFloat(null===(a=(0,l.R1)(n).tradePairVolumes)||void 0===a?void 0:a.find((e=>e.pair===d)).quote_volume_1w).toFixed(2)),1)]})),_:2},1024),b,f,(0,t.eW)(" : "),(0,t.bF)(i,{color:"grey-3","text-color":"dark"},{default:(0,t.k6)((()=>{var e,a;return[(0,t.eW)((0,r.v_)(parseFloat(null===(e=(0,l.R1)(n).tradePairVolumes)||void 0===e?void 0:e.find((e=>e.pair===d)).base_volume_1m).toFixed(2))+" / "+(0,r.v_)(parseFloat(null===(a=(0,l.R1)(n).tradePairVolumes)||void 0===a?void 0:a.find((e=>e.pair===d)).quote_volume_1m).toFixed(2)),1)]})),_:2},1024)])):(0,t.Q3)("",!0)]})),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),(0,t.bF)(k,{showing:(0,l.R1)(n).loading},{default:(0,t.k6)((()=>[(0,t.bF)(_,{size:"30px"})])),_:1},8,["showing"])],64)}}});var _=n(97569),k=n(27066),F=n(31173),h=n(44031),x=n(24264),w=n(62669),A=n(98582),q=n.n(A);const y=m,Q=y;q()(m,"components",{QCard:_.A,QCardSection:k.A,QSpace:F.A,QBadge:h.A,QInnerLoading:x.A,QSpinnerBars:w.A});var V=n(59033),C=n(77474),R=n(3388),P=function(e,a,n,t){function l(e){return e instanceof n?e:new n((function(a){a(e)}))}return new(n||(n=Promise))((function(n,o){function r(e){try{d(t.next(e))}catch(a){o(a)}}function i(e){try{d(t["throw"](e))}catch(a){o(a)}}function d(e){e.done?n(e.value):l(e.value).then(r,i)}d((t=t.apply(e,a||[])).next())}))};const W={class:"no-margin text-caption text-weight-bold"},O={class:"no-margin text-caption"},L={class:"no-margin text-caption"},T={class:"no-margin text-caption"},X={class:"no-margin text-caption"},K=(0,t.Lk)("p",{class:"no-margin text-center"},"Вы уверены что хотите отменить ордер?",-1),E=(0,t.pM)({__name:"TradeOrderCard",props:{tradeOrder:{},isActiveOrder:{type:Boolean}},setup(e){const a=(0,i.W)(),{allAssets:n}=(0,V.G)(),{cancelOrder:o,signTransaction:d}=(0,C.Z)(),s=(0,l.KR)(!1),u=(0,l.KR)(),c=e=>P(this,void 0,void 0,(function*(){s.value=!0,u.value=yield o(e)})),v=()=>P(this,void 0,void 0,(function*(){yield d(u.value.raw),s.value=!1}));return(e,o)=>{const i=(0,t.g2)("q-card-section"),d=(0,t.g2)("q-btn"),u=(0,t.g2)("q-card-actions"),p=(0,t.g2)("q-card"),g=(0,t.g2)("q-dialog"),b=(0,t.gN)("close-popup");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(p,{flat:"",bordered:""},{default:(0,t.k6)((()=>[(0,t.bF)(i,{class:"q-pa-sm"},{default:(0,t.k6)((()=>{var a,o;return[(0,t.Lk)("p",W,(0,r.v_)(null===(a=(0,l.R1)(n).find((a=>a.key===e.tradeOrder.wantAssetKey)))||void 0===a?void 0:a.name)+" / "+(0,r.v_)(null===(o=(0,l.R1)(n).find((a=>a.key===e.tradeOrder.haveAssetKey)))||void 0===o?void 0:o.name),1),(0,t.Lk)("p",O,"Кол-во "+(0,r.v_)(e.tradeOrder.amountHave),1),(0,t.Lk)("p",L,"Цена "+(0,r.v_)(e.tradeOrder.price),1),(0,t.Lk)("p",T,"Итого "+(0,r.v_)(e.tradeOrder.amountWant),1),(0,t.Lk)("p",X,"Осталось "+(0,r.v_)(e.tradeOrder.leftWant),1)]})),_:1}),e.isActiveOrder?((0,t.uX)(),(0,t.Wv)(u,{key:0},{default:(0,t.k6)((()=>[(0,t.bF)(d,{color:"negative",loading:(0,l.R1)(a).loading,onClick:o[0]||(o[0]=a=>c(e.tradeOrder.seqNo)),unelevated:"",outline:"","no-caps":"",size:"12px",label:"Отменить ордер"},null,8,["loading"])])),_:1})):(0,t.Q3)("",!0)])),_:1}),(0,t.bF)(g,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=e=>s.value=e),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)((()=>[(0,t.bF)(R.A,{style:{width:"100%"},"need-actions":"",title:" Подтверждение отмены ордера"},{actions:(0,t.k6)((()=>[(0,t.bF)(d,{"no-caps":"",unelevated:"",label:"Да",color:"positive",onClick:v}),(0,t.bo)((0,t.bF)(d,{"no-caps":"",unelevated:"",label:"Нет"},null,512),[[b]])])),default:(0,t.k6)((()=>[K])),_:1})])),_:1},8,["modelValue"])],64)}}});var S=n(16334),I=n(77954),U=n(57201),B=n(62769);const z=E,M=z;q()(E,"components",{QCard:_.A,QCardSection:k.A,QCardActions:S.A,QBtn:I.A,QDialog:U.A}),q()(E,"directives",{ClosePopup:B.A});var $=function(e,a,n,t){function l(e){return e instanceof n?e:new n((function(a){a(e)}))}return new(n||(n=Promise))((function(n,o){function r(e){try{d(t.next(e))}catch(a){o(a)}}function i(e){try{d(t["throw"](e))}catch(a){o(a)}}function d(e){e.done?n(e.value):l(e.value).then(r,i)}d((t=t.apply(e,a||[])).next())}))};const j={class:"flex column gap-2"},D={class:"flex column gap-2"},N={class:"flex column gap-2"},G=(0,t.pM)({__name:"OwnDealsTab",setup(e){const{getOwnOrders:a}=(0,i.W)(),n=(0,i.W)();(0,t.sV)((()=>$(this,void 0,void 0,(function*(){yield a()}))));const o=(0,l.KR)("active");return(e,a)=>{const r=(0,t.g2)("q-tab"),i=(0,t.g2)("q-tabs"),s=(0,t.g2)("q-separator"),u=(0,t.g2)("q-tab-panel"),c=(0,t.g2)("q-tab-panels"),v=(0,t.g2)("q-spinner-bars"),p=(0,t.g2)("q-inner-loading");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(i,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),dense:"",align:"justify"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{"no-caps":"",class:"bg-white text-info",name:"active",label:"Активные"}),(0,t.bF)(r,{"no-caps":"",class:"bg-white text-positive",name:"done",label:"Завершенные"}),(0,t.bF)(r,{"no-caps":"",class:"bg-white text-negative",name:"cancel",label:"Отмененные"})])),_:1},8,["modelValue"]),(0,t.bF)(s),(0,t.bF)(d.A,{offset:100},{default:(0,t.k6)((()=>[(0,t.bF)(c,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),animated:""},{default:(0,t.k6)((()=>[(0,t.bF)(u,{name:"active"},{default:(0,t.k6)((()=>{var e;return[(0,t.Lk)("div",j,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(null===(e=(0,l.R1)(n).ownOrders)||void 0===e?void 0:e.filter((e=>1===e.status||2===e.status)),(e=>((0,t.uX)(),(0,t.Wv)(M,{"trade-order":e,"is-active-order":""},null,8,["trade-order"])))),256))])]})),_:1}),(0,t.bF)(u,{name:"done"},{default:(0,t.k6)((()=>{var e;return[(0,t.Lk)("div",D,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(null===(e=(0,l.R1)(n).ownOrders)||void 0===e?void 0:e.filter((e=>3===e.status)),(e=>((0,t.uX)(),(0,t.Wv)(M,{"trade-order":e,"is-active-order":!1},null,8,["trade-order"])))),256))])]})),_:1}),(0,t.bF)(u,{name:"cancel"},{default:(0,t.k6)((()=>{var e;return[(0,t.Lk)("div",N,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(null===(e=(0,l.R1)(n).ownOrders)||void 0===e?void 0:e.filter((e=>4===e.status)),(e=>((0,t.uX)(),(0,t.Wv)(M,{"trade-order":e,"is-active-order":!1},null,8,["trade-order"])))),256))])]})),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(p,{showing:(0,l.R1)(n).loading},{default:(0,t.k6)((()=>[(0,t.bF)(v,{size:"30px"})])),_:1},8,["showing"])],64)}}});var H=n(64873),Z=n(26721),J=n(37015),Y=n(64082),ee=n(63815);const ae=G,ne=ae;q()(G,"components",{QTabs:H.A,QTab:Z.A,QSeparator:J.A,QTabPanels:Y.A,QTabPanel:ee.A,QInnerLoading:x.A,QSpinnerBars:w.A});const te=(0,t.pM)({__name:"index",setup(e){const a=(0,l.KR)("exchange"),{p2pUser:n}=(0,o.P)();return(e,n)=>{const l=(0,t.g2)("q-tab"),o=(0,t.g2)("q-tabs"),r=(0,t.g2)("q-separator"),i=(0,t.g2)("q-tab-panel"),d=(0,t.g2)("q-tab-panels"),s=(0,t.g2)("q-card"),u=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(u,{padding:"",class:"page"},{default:(0,t.k6)((()=>[(0,t.bF)(s,{flat:"",bordered:"",class:"full-height"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),"indicator-color":"transparent",class:"shadow-2",align:"justify","active-color":"dark","active-bg-color":"tab"},{default:(0,t.k6)((()=>[(0,t.bF)(l,{"no-caps":"",name:"exchange",label:"Биржа"}),(0,t.bF)(l,{"no-caps":"",name:"own",label:"Мои сделки"})])),_:1},8,["modelValue"]),(0,t.bF)(r),(0,t.bF)(d,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e),animated:"",class:"full-height"},{default:(0,t.k6)((()=>[(0,t.bF)(i,{name:"exchange",class:"overflow-hidden"},{default:(0,t.k6)((()=>[(0,t.bF)(Q)])),_:1}),(0,t.bF)(i,{name:"own",class:"overflow-hidden no-padding"},{default:(0,t.k6)((()=>[(0,t.bF)(ne)])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}}});var le=n(33177);const oe=te,re=oe;q()(te,"components",{QPage:le.A,QCard:_.A,QTabs:H.A,QTab:Z.A,QSeparator:J.A,QTabPanels:Y.A,QTabPanel:ee.A})}}]);