"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[987],{35987:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Y});var l=t(61758),n=t(38734),o=t(58790),r=t(60455),i=t(43710),s=t(59033),u=t(41640),c=t(39713),d=t(95522),b=t(10577);const k=(0,l.pM)({__name:"ActiveTxButton",setup(e){const a=(0,b.u)();return(e,t)=>{const o=(0,l.g2)("q-icon"),r=(0,l.g2)("q-btn");return(0,n.R1)(a).activeTxCount?((0,l.uX)(),(0,l.Wv)(r,{key:0,flat:"",dense:"",label:(0,n.R1)(a).activeTxCount},{default:(0,l.k6)((()=>[(0,l.bF)(o,{name:"las la-sync",class:"rotate q-px-sm"})])),_:1},8,["label"])):(0,l.Q3)("",!0)}}});var f=t(69001),p=t(24609),v=t(98582),_=t.n(v);const g=k,F=g;_()(k,"components",{QBtn:f.A,QIcon:p.A});var h=t(94461),m=t(81750),y=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{s(l.next(e))}catch(a){o(a)}}function i(e){try{s(l["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):n(e.value).then(r,i)}s((l=l.apply(e,a||[])).next())}))};const Q=e=>((0,l.Qi)("data-v-32d0e12e"),e=e(),(0,l.jt)(),e),A={class:"text-caption q-mb-none ellipsis"},q=["src"],x={class:"no-margin"},C=Q((()=>(0,l.Lk)("p",{class:"no-margin"},"Ваш счет является анонимным. Для разблокировки всего функционала создайте персону и верифицируйте счет",-1))),w=Q((()=>(0,l.Lk)("a",{class:"text-dark",href:"https://t.me/rolf_support",target:"_blank"},"Техническая поддержка",-1))),W=(0,l.pM)({__name:"Header",setup(e){const{p2pUser:a}=(0,u.P)(),t=(0,u.P)(),{toast:b,Icon:k,Color:f}=(0,d.d)(),p=(0,r.lq)(),v=(0,i.A)(),_=(0,n.KR)(!1),g=(0,n.KR)(!1),Q="https://chickenbro.ru",W=(0,n.KR)(!1),{person:R,address:z,logout:X}=(0,s.G)();function B(){return y(this,void 0,void 0,(function*(){const e=yield h.A.post(Q+"/api/user/check_address",{wallet:z,confim:!0});e.data.success?(W.value=!1,b("Кошелек подтвержден, можете продолжить регистрацию",k.success,f.success)):b("Ошибка подтверждения кошелька",k.error,f.error)}))}return(0,l.wB)(_,(e=>{v.dark.set(e)})),(0,l.KC)((()=>y(this,void 0,void 0,(function*(){const e=yield h.A.post(Q+"/api/user/check_address",{wallet:z,get:!0});m.log(e.data),e.data.is_confirm||(W.value=!0)})))),(e,a)=>{const r=(0,l.g2)("q-btn"),i=(0,l.g2)("q-space"),s=(0,l.g2)("q-icon"),u=(0,l.g2)("q-badge"),d=(0,l.g2)("q-toolbar"),b=(0,l.g2)("q-header"),k=(0,l.g2)("q-item-label"),f=(0,l.g2)("q-item-section"),v=(0,l.g2)("q-item"),_=(0,l.g2)("q-avatar"),h=(0,l.g2)("q-separator"),m=(0,l.g2)("q-list"),y=(0,l.g2)("q-banner"),Q=(0,l.g2)("q-drawer");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(b,{class:"bg-grey-invert text-gold"},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>["/"!==(0,n.R1)(p).path?((0,l.uX)(),(0,l.Wv)(r,{key:0,flat:"","no-caps":"",label:"Назад",onClick:a[0]||(a[0]=a=>e.$router.back())})):(0,l.Q3)("",!0),(0,l.bF)(i),(0,l.bF)(F),(0,l.bF)(r,{flat:"",round:"",dense:"",icon:"las la-bell",color:"golder",onClick:a[1]||(a[1]=a=>e.$router.push("/notifications")),class:"q-ml-md"},{default:(0,l.k6)((()=>[(0,n.R1)(t).haveNewNotifications?((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"badge",floating:"",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(r,{flat:"",round:"",dense:"",icon:"las la-bars",class:"q-mr-sm",onClick:a[2]||(a[2]=e=>g.value=!0)},{default:(0,l.k6)((()=>[W.value?((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"badge",floating:"",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0),(0,n.R1)(t).showP2PWarning?((0,l.uX)(),(0,l.Wv)(u,{key:1,floating:"",class:"badge",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0)])),_:1})])),_:1})])),_:1}),(0,l.bF)(Q,{modelValue:g.value,"onUpdate:modelValue":a[9]||(a[9]=e=>g.value=e),behavior:"mobile",bordered:"",side:"right",class:"q-py-lg relative-position"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{separator:""},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.bF)(k,{overline:""},{default:(0,l.k6)((()=>[(0,l.eW)("Адрес кошелька")])),_:1}),(0,l.bF)(k,{caption:""},{default:(0,l.k6)((()=>[(0,l.Lk)("p",A,(0,o.v_)((0,n.R1)(z)),1)])),_:1})])),_:1}),(0,l.bF)(f,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"invertBtn",onClick:a[3]||(a[3]=e=>(0,n.R1)(c.$r)((0,n.R1)(z),"Адрес кошелька скопирован")),round:"",dense:"",unelevated:"",icon:"las la-clipboard"})])),_:1})])),_:1}),(0,n.R1)(R)?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(_,{size:"40px"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:(0,n.R1)(c.gs)((0,n.R1)(R).maker_image),alt:""},null,8,q)])),_:1})])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.Lk)("p",x,(0,o.v_)((0,n.R1)(R).name),1)])),_:1})])),_:1})])),_:1}),(0,l.bF)(v,{clickable:"",onClick:a[4]||(a[4]=a=>e.$router.push("/person/verify"))},{default:(0,l.k6)((()=>[(0,l.bF)(f,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-id-card"})])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Верифицировать пользователя ")])),_:1})])),_:1}),(0,l.bF)(v,{clickable:"",onClick:a[5]||(a[5]=a=>e.$router.push("/person/verified_persons"))},{default:(0,l.k6)((()=>[(0,l.bF)(f,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-user-check"})])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Верифицированные пользователи")])),_:1})])),_:1})],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[C])),_:1}),(0,l.bF)(v,{clickable:"",onClick:a[6]||(a[6]=a=>e.$router.push("/person/create/with_inviter"))},{default:(0,l.k6)((()=>[(0,l.bF)(f,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-id-card"})])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Верификация с пригласителем ")])),_:1})])),_:1}),(0,l.bF)(v,{clickable:"",onClick:a[7]||(a[7]=a=>e.$router.push("/person/create/without_inviter"))},{default:(0,l.k6)((()=>[(0,l.bF)(f,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-id-card"})])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Верификация без пригласителя ")])),_:1})])),_:1})],64)),(0,l.bF)(v,{clickable:"",onClick:a[8]||(a[8]=a=>e.$router.push("/p2p/settings")),class:"relative-position"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-users"})])),_:1}),(0,n.R1)(t).showP2PWarning?((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"absolute-top-left badge",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Настройки P2P")])),_:1})])),_:1}),W.value?((0,l.uX)(),(0,l.Wv)(v,{key:2,clickable:"",onClick:B,class:"text-positive"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-gamepad"})])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Подтвердить кошелек для регистрации в игре ChickenBro")])),_:1})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(v,{clickable:"",onClick:(0,n.R1)(X),class:"text-negative"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-sign-out-alt"})])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Выход")])),_:1})])),_:1},8,["onClick"]),(0,l.bF)(h)])),_:1}),(0,l.bF)(y,{style:{position:"absolute"},class:"bg-tab absolute-bottom"},{default:(0,l.k6)((()=>[w])),_:1})])),_:1},8,["modelValue"])],64)}}});var R=t(12807),z=t(60133),X=t(79351),B=t(31173),P=t(44031),K=t(22701),L=t(54514),$=t(75329),I=t(63418),T=t(90449),E=t(35779),S=t(53581),H=t(37015),M=t(38222);const V=(0,R.A)(W,[["__scopeId","data-v-32d0e12e"]]),N=V;_()(W,"components",{QHeader:z.A,QToolbar:X.A,QBtn:f.A,QSpace:B.A,QBadge:P.A,QIcon:p.A,QDrawer:K.A,QList:L.A,QItem:$.A,QItemSection:I.A,QToggle:T.A,QItemLabel:E.A,QAvatar:S.A,QSeparator:H.A,QBanner:M.A});var U=t(81750),j=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{s(l.next(e))}catch(a){o(a)}}function i(e){try{s(l["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):n(e.value).then(r,i)}s((l=l.apply(e,a||[])).next())}))};const D=(0,l.pM)({__name:"wallet",setup(e){const a=(0,n.KR)(!1);function t(){window.location.reload()}return(0,l.KC)((()=>j(this,void 0,void 0,(function*(){"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.addEventListener("updatefound",(()=>{U.log("Service Worker update detected!"),a.value=!0}))}))})))),(e,n)=>{const o=(0,l.g2)("q-btn"),r=(0,l.g2)("q-banner"),i=(0,l.g2)("router-view"),s=(0,l.g2)("q-page-container"),u=(0,l.g2)("q-layout");return(0,l.uX)(),(0,l.CE)(l.FK,null,[a.value?((0,l.uX)(),(0,l.Wv)(r,{key:0,class:"invertBtn"},{action:(0,l.k6)((()=>[(0,l.bF)(o,{color:"primary","text-color":"dark",onClick:t,"no-caps":"",unelevated:"",label:"Обновить"})])),default:(0,l.k6)((()=>[(0,l.eW)(" Обнаружено обновление! ")])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(u,{view:"lHh Lpr lFf"},{default:(0,l.k6)((()=>[(0,l.bF)(N),(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(i)])),_:1})])),_:1})],64)}}});var G=t(83333),J=t(71102);const O=D,Y=O;_()(D,"components",{QBanner:M.A,QBtn:f.A,QLayout:G.A,QPageContainer:J.A})}}]);