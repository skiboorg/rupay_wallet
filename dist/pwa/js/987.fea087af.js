"use strict";(globalThis["webpackChunkrupay_wallet"]=globalThis["webpackChunkrupay_wallet"]||[]).push([[987],{35987:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ee});var l=t(61758),n=t(38734),o=t(58790),r=t(60455),u=t(43710),s=t(59033),i=t(41640),c=t(39713),d=t(95522),b=t(7757),k=t(10577);const f=(0,l.pM)({__name:"ActiveTxButton",setup(e){const a=(0,k.u)();return(e,t)=>{const o=(0,l.g2)("q-icon"),r=(0,l.g2)("q-btn");return(0,n.R1)(a).activeTxCount?((0,l.uX)(),(0,l.Wv)(r,{key:0,flat:"",dense:"",label:(0,n.R1)(a).activeTxCount},{default:(0,l.k6)((()=>[(0,l.bF)(o,{name:"las la-sync",class:"rotate q-px-sm"})])),_:1},8,["label"])):(0,l.Q3)("",!0)}}});var p=t(77954),v=t(24609),g=t(98582),_=t.n(g);const F=f,h=F;_()(f,"components",{QBtn:p.A,QIcon:v.A});var m=t(94461),y=t(81750),Q=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{s(l.next(e))}catch(a){o(a)}}function u(e){try{s(l["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):n(e.value).then(r,u)}s((l=l.apply(e,a||[])).next())}))};const A=e=>((0,l.Qi)("data-v-347e3685"),e=e(),(0,l.jt)(),e),q={class:"text-caption q-mb-none ellipsis"},w=["src"],C={class:"no-margin"},x={key:1},R=A((()=>(0,l.Lk)("p",{class:"no-margin"},"Ваш счет является анонимным. Для разблокировки всего функционала создайте персону и верифицируйте счет",-1))),W=A((()=>(0,l.Lk)("a",{class:"text-dark",href:"https://t.me/rolf_support",target:"_blank"},"Техническая поддержка",-1))),B=(0,l.pM)({__name:"Header",setup(e){const{p2pUser:a}=(0,i.P)(),t=(0,i.P)(),{toast:k,Icon:f,Color:p}=(0,d.d)(),v=(0,r.lq)(),g=(0,u.A)(),_=(0,n.KR)(!1),F=(0,n.KR)(!1),A="https://chickenbro.ru",B=(0,n.KR)(!1),{person:X,address:P,logout:L}=(0,s.G)();function z(){return Q(this,void 0,void 0,(function*(){const e=yield m.A.post(A+"/api/user/check_address",{wallet:P,confim:!0});e.data.success?(B.value=!1,k("Кошелек подтвержден, можете продолжить регистрацию",f.success,p.success)):k("Ошибка подтверждения кошелька",f.error,p.error)}))}return(0,l.wB)(_,(e=>{g.dark.set(e)})),(0,l.KC)((()=>Q(this,void 0,void 0,(function*(){const e=yield m.A.post(A+"/api/user/check_address",{wallet:P,get:!0});y.log(e.data),e.data.is_confirm||(B.value=!0)})))),(e,a)=>{const r=(0,l.g2)("q-btn"),u=(0,l.g2)("q-space"),s=(0,l.g2)("q-icon"),i=(0,l.g2)("q-badge"),d=(0,l.g2)("q-toolbar"),k=(0,l.g2)("q-header"),f=(0,l.g2)("q-toggle"),p=(0,l.g2)("q-item-section"),g=(0,l.g2)("q-item"),m=(0,l.g2)("q-item-label"),y=(0,l.g2)("q-avatar"),Q=(0,l.g2)("q-separator"),A=(0,l.g2)("q-list"),K=(0,l.g2)("q-banner"),I=(0,l.g2)("q-drawer");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(k,{class:"bg-grey-invert text-gold"},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>["/"!==(0,n.R1)(v).path?((0,l.uX)(),(0,l.Wv)(r,{key:0,flat:"","no-caps":"",label:"Назад",onClick:a[0]||(a[0]=a=>e.$router.back())})):(0,l.Q3)("",!0),(0,l.bF)(u),(0,l.bF)(h),(0,l.bF)(r,{flat:"",round:"",dense:"",icon:"las la-bell",color:"golder",onClick:a[1]||(a[1]=a=>e.$router.push("/notifications")),class:"q-ml-md"},{default:(0,l.k6)((()=>[(0,n.R1)(t).haveNewNotifications?((0,l.uX)(),(0,l.Wv)(i,{key:0,class:"badge",floating:"",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(r,{flat:"",round:"",dense:"",icon:"las la-bars",class:"q-mr-sm",onClick:a[2]||(a[2]=e=>F.value=!0)},{default:(0,l.k6)((()=>[B.value?((0,l.uX)(),(0,l.Wv)(i,{key:0,class:"badge",floating:"",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0),(0,n.R1)(t).showP2PWarning?((0,l.uX)(),(0,l.Wv)(i,{key:1,floating:"",class:"badge",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0)])),_:1})])),_:1})])),_:1}),(0,l.bF)(I,{modelValue:F.value,"onUpdate:modelValue":a[8]||(a[8]=e=>F.value=e),behavior:"mobile",bordered:"",side:"right",class:"q-py-lg"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{separator:""},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,{modelValue:_.value,"onUpdate:modelValue":a[3]||(a[3]=e=>_.value=e),"checked-icon":"las la-moon",color:"grey-9",label:_.value?"Светлая тема":"Темная тема","unchecked-icon":"las la-sun"},null,8,["modelValue","label"])])),_:1})])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,{overline:""},{default:(0,l.k6)((()=>[(0,l.eW)("Адрес кошелька")])),_:1}),(0,l.bF)(m,{caption:""},{default:(0,l.k6)((()=>[(0,l.Lk)("p",q,(0,o.v_)((0,n.R1)(P)),1)])),_:1})])),_:1}),(0,l.bF)(p,{side:""},{default:(0,l.k6)((()=>[(0,l.bF)(r,{class:"invertBtn",onClick:a[4]||(a[4]=e=>(0,n.R1)(c.$r)((0,n.R1)(P),"Адрес кошелька скопирован")),round:"",dense:"",unelevated:"",icon:"las la-clipboard"})])),_:1})])),_:1}),(0,n.R1)(X)?((0,l.uX)(),(0,l.Wv)(g,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(p,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(y,{size:"40px"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:(0,n.R1)(c.gs)((0,n.R1)(X).maker_image),alt:""},null,8,w)])),_:1})])),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.Lk)("p",C,(0,o.v_)((0,n.R1)(X).name),1)])),_:1})])),_:1})])),_:1})):((0,l.uX)(),(0,l.CE)("div",x,[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[R])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(b.A,{class:"invertBtn full-width",onClick:a[5]||(a[5]=a=>e.$router.push("/person/create/with_inviter")),label:"Верификация с пригласителем"})])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(b.A,{class:"invertBtn full-width",onClick:a[6]||(a[6]=a=>e.$router.push("/person/create/without_inviter")),label:"Верификация без пригласителя"})])),_:1})])),(0,l.bF)(g,{clickable:"",onClick:a[7]||(a[7]=a=>e.$router.push("/p2p/settings")),class:"relative-position"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-users"})])),_:1}),(0,n.R1)(t).showP2PWarning?((0,l.uX)(),(0,l.Wv)(i,{key:0,class:"absolute-top-left badge",color:"negative"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"10px",name:"priority_high"})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("Настройки P2P")])),_:1})])),_:1}),B.value?((0,l.uX)(),(0,l.Wv)(g,{key:2,clickable:"",onClick:z,class:"text-positive"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-gamepad"})])),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("Подтвердить кошелек для регистрации в игре ChickenBro")])),_:1})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(g,{clickable:"",onClick:(0,n.R1)(L),class:"text-negative"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{avatar:""},{default:(0,l.k6)((()=>[(0,l.bF)(s,{size:"20px",name:"las la-sign-out-alt"})])),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)("Выход")])),_:1})])),_:1},8,["onClick"]),(0,l.bF)(Q)])),_:1}),(0,l.bF)(K,{class:"bg-tab absolute-bottom"},{default:(0,l.k6)((()=>[W])),_:1})])),_:1},8,["modelValue"])],64)}}});var X=t(12807),P=t(60133),L=t(79351),z=t(31173),K=t(44031),I=t(22701),T=t(54514),V=t(75329),$=t(63418),E=t(90449),S=t(35779),H=t(53581),M=t(37015),U=t(38222);const N=(0,X.A)(B,[["__scopeId","data-v-347e3685"]]),j=N;_()(B,"components",{QHeader:P.A,QToolbar:L.A,QBtn:p.A,QSpace:z.A,QBadge:K.A,QIcon:v.A,QDrawer:I.A,QList:T.A,QItem:V.A,QItemSection:$.A,QToggle:E.A,QItemLabel:S.A,QAvatar:H.A,QSeparator:M.A,QBanner:U.A});var D=t(81750),G=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{s(l.next(e))}catch(a){o(a)}}function u(e){try{s(l["throw"](e))}catch(a){o(a)}}function s(e){e.done?t(e.value):n(e.value).then(r,u)}s((l=l.apply(e,a||[])).next())}))};const J=(0,l.pM)({__name:"wallet",setup(e){const a=(0,n.KR)(!1);function t(){window.location.reload()}return(0,l.KC)((()=>G(this,void 0,void 0,(function*(){"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.addEventListener("updatefound",(()=>{D.log("Service Worker update detected!"),a.value=!0}))}))})))),(e,n)=>{const o=(0,l.g2)("q-btn"),r=(0,l.g2)("q-banner"),u=(0,l.g2)("router-view"),s=(0,l.g2)("q-page-container"),i=(0,l.g2)("q-layout");return(0,l.uX)(),(0,l.CE)(l.FK,null,[a.value?((0,l.uX)(),(0,l.Wv)(r,{key:0,class:"invertBtn"},{action:(0,l.k6)((()=>[(0,l.bF)(o,{color:"primary","text-color":"dark",onClick:t,"no-caps":"",unelevated:"",label:"Обновить"})])),default:(0,l.k6)((()=>[(0,l.eW)(" Обнаружено обновление! ")])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(i,{view:"lHh Lpr lFf"},{default:(0,l.k6)((()=>[(0,l.bF)(j),(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(u)])),_:1})])),_:1})],64)}}});var O=t(83333),Y=t(71102);const Z=J,ee=Z;_()(J,"components",{QBanner:U.A,QBtn:p.A,QLayout:O.A,QPageContainer:Y.A})}}]);